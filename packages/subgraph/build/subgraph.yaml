specVersion: 1.0.0
indexerHints:
  prune: auto
schema:
  file: schema-v3.graphql
dataSources:
  - kind: ethereum
    name: SlotFactory
    network: base-sepolia
    source:
      address: "0xe8FD4DF6f1d1914062a2A55Ad6DEE2a506BbbAa0"
      abi: SlotFactory
      startBlock: 38233617
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Factory
        - Slot
      abis:
        - name: SlotFactory
          file: SlotFactory/SlotFactory.json
      eventHandlers:
        - event: SlotDeployed(indexed address,indexed address,indexed
            address,(bool,bool,address),(uint256,address,uint256,uint256))
          handler: handleSlotDeployed
      file: SlotFactory/SlotFactory.wasm
templates:
  - kind: ethereum
    name: Slot
    network: base-sepolia
    source:
      abi: Slot
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Slot
        - SlotEvent
      abis:
        - name: Slot
          file: Slot/Slot.json
      eventHandlers:
        - event: Bought(indexed address,indexed address,uint256,uint256,uint256)
          handler: handleBought
        - event: Released(indexed address,uint256)
          handler: handleReleased
        - event: Liquidated(indexed address,indexed address,uint256)
          handler: handleLiquidated
        - event: PriceUpdated(uint256,uint256)
          handler: handlePriceUpdated
        - event: Deposited(indexed address,uint256)
          handler: handleDeposited
        - event: Withdrawn(indexed address,uint256)
          handler: handleWithdrawn
        - event: TaxCollected(indexed address,uint256)
          handler: handleTaxCollected
        - event: Settled(uint256,uint256)
          handler: handleSettled
        - event: TaxUpdateProposed(uint256)
          handler: handleTaxUpdateProposed
        - event: ModuleUpdateProposed(address)
          handler: handleModuleUpdateProposed
        - event: PendingUpdateCancelled()
          handler: handlePendingUpdateCancelled
        - event: PendingUpdateApplied(uint256,address)
          handler: handlePendingUpdateApplied
        - event: LiquidationBountyUpdated(uint256)
          handler: handleLiquidationBountyUpdated
      file: templates/Slot/Slot.wasm
